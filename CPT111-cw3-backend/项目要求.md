# CPT111 Coursework 3: 电影推荐与追踪系统 (Movie Recommendation & Tracker)

## 1. 项目概览
* **项目名称**: Programming Project - Movie Recommendation & Tracker
* **课程**: CPT111: Java Programming (Semester 1, 2025-26)
* **形式**: 小组作业 (4-5 人一组)
* **截止日期**: 第 13 周周末 (2025年12月14日 23:59 CST)
* **目标**: 巩固面向对象编程 (OOP)、文件处理和异常处理的知识

---

## 2. 功能需求 (Functional Requirements)

### 2.1 未登录状态 (Main Menu - Not Logged In)
当用户未登录时，命令行菜单需提供以下选项:
1.  **登录 (Login)**: 输入用户名和密码进行登录。
2.  **退出 (Exit)**: 退出程序。

### 2.2 登录状态 (Main Menu - Logged In)
登录成功后，用户应看到以下选项:
1.  **浏览电影 (Browse movies)**: 列出文件库中存储的所有电影。
2.  **添加到待看列表 (Add movie to watchlist)**: 将指定电影加入用户的个人待看列表。
3.  **从待看列表移除 (Remove movie from watchlist)**: 将指定电影从个人待看列表中删除。
4.  **查看待看列表 (View watchlist)**: 显示用户待看列表中的所有电影。
5.  **标记为已看 (Mark movie as watched)**:
    * 将电影加入用户的个人观看历史 (History)。
    * **逻辑要求**: 如果该电影当前在“待看列表”中，必须将其从待看列表中移除。
6.  **查看历史记录 (View history)**: 显示用户的观看历史记录。
7.  **获取推荐 (Get recommendations)**: 基于用户的待看列表或历史记录，显示 Top-N 推荐电影。
8.  **登出 (Logout)**: 退出当前账户，返回主菜单。

---

## 3. 数据与文件存储 (Data Persistence)

### 3.1 用户数据 (users.csv)
* 所有用户数据存储在一个 CSV 文件中。
* **必需字段**: Username (用户名), Password (密码), Watchlist (待看列表), History (历史记录)。
* 提供方已提供预填充的 CSV 文件。

### 3.2 电影数据 (movies.csv)
* 电影库存储在一个 CSV 文件中。
* **必需字段**: ID, Title (标题), Genre (类型), Year (年份), Rating (评分 0.0-10.0)。
* 提供方已提供预填充的 CSV 文件。

---

## 4. 技术约束 (Technical Requirements)

### 4.1 面向对象设计 (OOP)
* 必须应用 OOP 原则，至少包含以下类:
    * `Movie`
    * `User`
    * `Watchlist`
    * `History`
    * `RecommendationEngine`
* 使用 `ArrayList` 和/或 `HashMap` 来存储电影和用户数据。

### 4.2 文件 I/O 与 异常处理
* 必须使用文件 I/O 读取电影数据，以及读取/保存用户数据。
* 必须实现异常处理 (Exception Handling) 以防止程序崩溃。

### 4.3 库限制 (Constraints)
* **严禁使用第三方库**: 仅允许使用课程涵盖的 Java 库 (如 `ArrayList`, `HashMap`, `File`, `Scanner`, `BufferedReader`)。
* 使用未授权的库将导致零分。

---

## 5. 进阶功能 (Advanced Features)
全部完成
1.  **新用户注册**: 允许创建新账户。
2.  **修改密码**: 允许用户更改密码。
3.  **多策略推荐引擎**: 支持多种推荐算法 (如按类型、按年份、按评分等)，并可在运行时切换。
4.  **图形用户界面 (GUI)**: 使用 **JavaFX** 实现图形界面，替代命令行菜单。
5.  **用户权限分级**: 通过继承将 `User` 分为 `BasicUser`, `PremiumUser` 等。
6.  **电影分类继承**: 通过继承将 `Movie` 分为 `FeatureFilm`, `ShortFilm` 等。
7.  **密码加密**: 在保存到 CSV 前对密码进行哈希/加密处理。
